<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
    <!-- 日志详情模态框 -->
    <div th:fragment="log-detail-modal" class="modal-backdrop" onclick="closeModal(event)">
        <div class="modal" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>投递详情</h2>
                <button class="btn btn-icon btn-ghost" onclick="closeModalContainer()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>
                </button>
            </div>
            
            <div class="modal-body">
                <div class="detail-grid">
                    <div class="detail-item">
                        <span class="label">收件人</span>
                        <span class="value" th:text="${log.recipient}">recipient@example.com</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">状态</span>
                        <span class="badge" th:classappend="${log.statusClass}" th:text="${log.statusText}">状态</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">远程主机</span>
                        <span class="value" th:text="${log.remoteHost ?: '-'}">-</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">远程 IP</span>
                        <span class="value" th:text="${log.remoteIp ?: '-'}">-</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">SMTP 代码</span>
                        <span class="value" th:text="${log.smtpCode ?: '-'}">-</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">时间</span>
                        <span class="value" th:text="${#temporals.format(log.createdAt, 'yyyy-MM-dd HH:mm:ss')}">2024-01-01 00:00:00</span>
                    </div>
                </div>
                
                <div th:if="${log.smtpResponse}" class="response-section">
                    <span class="label">SMTP 响应</span>
                    <pre class="response-content" th:text="${log.smtpResponse}">响应内容</pre>
                </div>
            </div>
            
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModalContainer()">关闭</button>
            </div>
        </div>
    </div>
</body>
</html>

