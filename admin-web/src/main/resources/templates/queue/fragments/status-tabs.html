<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
    <!-- 队列状态标签页 -->
    <div th:fragment="status-tabs" class="status-tabs">
        <a th:href="@{/queue}" 
           th:classappend="${selectedStatus == null} ? 'active' : ''"
           hx-get="/queue/table"
           hx-target="#queue-table-container">
            全部
            <span class="count" th:text="${statusCounts.pending + statusCounts.sending + statusCounts.sent + statusCounts.failed}">0</span>
        </a>
        <a th:href="@{/queue(status='pending')}" 
           th:classappend="${selectedStatus == 'pending'} ? 'active' : ''"
           hx-get="/queue/table?status=pending"
           hx-target="#queue-table-container">
            <span class="status-dot status-pending"></span>
            等待发送
            <span class="count" th:text="${statusCounts.pending}">0</span>
        </a>
        <a th:href="@{/queue(status='sending')}" 
           th:classappend="${selectedStatus == 'sending'} ? 'active' : ''"
           hx-get="/queue/table?status=sending"
           hx-target="#queue-table-container">
            <span class="status-dot status-sending"></span>
            发送中
            <span class="count" th:text="${statusCounts.sending}">0</span>
        </a>
        <a th:href="@{/queue(status='sent')}" 
           th:classappend="${selectedStatus == 'sent'} ? 'active' : ''"
           hx-get="/queue/table?status=sent"
           hx-target="#queue-table-container">
            <span class="status-dot status-sent"></span>
            已发送
            <span class="count" th:text="${statusCounts.sent}">0</span>
        </a>
        <a th:href="@{/queue(status='failed')}" 
           th:classappend="${selectedStatus == 'failed'} ? 'active' : ''"
           hx-get="/queue/table?status=failed"
           hx-target="#queue-table-container">
            <span class="status-dot status-failed"></span>
            发送失败
            <span class="count" th:text="${statusCounts.failed}">0</span>
        </a>
    </div>
</body>
</html>

